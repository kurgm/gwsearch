var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire94c2;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,r.call(i.exports,i,i.exports),i.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire94c2=r),(0,r.register)("c1lIA",function(e,t){Object.defineProperty(e.exports,"register",{get:function(){return n},set:function(e){return n=e},enumerable:!0,configurable:!0});var n,r=new Map;n=function(e,t){for(var n=0;n<t.length-1;n+=2)r.set(t[n],{baseUrl:e,path:t[n+1]})}}),r("c1lIA").register(new URL("",import.meta.url).toString(),JSON.parse('["ak0ox","index.39a3694d.js","dPT7b","worker.945d4ff9.js"]'));var i={},a={};a=function(e,t,n){if(t===self.location.origin)return e;var r=n?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([r],{type:"application/javascript"}))};let o=new URL("worker.945d4ff9.js",import.meta.url);i=a(o.toString(),o.origin,!0),document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("search_form"),t=document.getElementById("search_query"),n=document.getElementById("result"),r=new Worker(i),a=[];function o(e){return new Promise((t,n)=>{let i=a.push({resolve:t,reject:n})-1;r.postMessage({...e,id:i})})}async function l(e){return(await o({type:"query",query:e})).value}async function d(e){return(await o({type:"children",items:e})).value}r.addEventListener("message",e=>{if(!(e.data instanceof Object))return;let t=e.data,n=a[t.id];if(n){if("error"in t){n.reject(t.error);return}n.resolve(t)}});let s=null;function c(e){let t=document.createElement("ul");for(let{names:n,children:r}of e){let e=document.createElement("li");if(r.length){e.dataset.children=r.map(e=>e[0]).join(",");let t=document.createElement("button");t.appendChild(document.createTextNode("+")),e.appendChild(t)}for(let[t,r]of n.entries()){0!==t&&e.appendChild(document.createTextNode(" = "));let n=function(e,t){if(e.startsWith("abst:")){let t=e.substring(5);if(/^abst:cdp-[0-9a-f]{4}$/.test(e))t=`&CDP-${e.substring(9).toUpperCase()};`;else if(/^abst:u[0-9a-f]{4,}$/.test(e)){let n=e.substring(6),r=String.fromCodePoint(parseInt(n,16));t=`U+${n.toUpperCase()}: ${r}`}else/^abst:_bs-uc-\d{4}$/.test(e)&&(t=`&_BS-UC-${e.substring(12)};`);return document.createTextNode(t)}let n=document.createElement("a");if(n.href=`https://glyphwiki.org/wiki/${e}`,n.title=e,!t){let t=document.createElement("img");t.loading="lazy",t.src=`https://glyphwiki.org/glyph/${e}.50px.png`,t.alt=t.title=e,t.className="thumb",n.appendChild(t)}return n.appendChild(document.createTextNode(e)),n}(r,0!==t);e.appendChild(n)}t.appendChild(e)}return t}e.addEventListener("submit",e=>{for(e.preventDefault();n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode("(検索中)")),function(e){let t=function(e){let t=[];for(let n=/([a-z][a-z0-9_-]{4,})|&CDP-([\dA-F]{4});|&_BS-UC-(\d{4});|U\+([\dA-F]{1,6})|&#[Xx]([\da-fA-F]+);|&#(\d+);|(\S)/gu,r;null!==(r=n.exec(e));){let e;let[,n,i,a,o,l,d,s]=r;if(n){t.push(n);continue}if(i){t.push(`abst:cdp-${i.toLowerCase()}`);continue}if(a){t.push(`abst:_bs-uc-${a}`);continue}e=o?parseInt(o,16):l?parseInt(l,16):d?parseInt(d,10):s.codePointAt(0),t.push(`abst:u${e.toString(16).padStart(4,"0")}`)}return t}(e);s=t,l(t).then(e=>{s===t&&function(e){for(;n.firstChild;)n.removeChild(n.firstChild);if(!e.length){n.appendChild(document.createTextNode("(該当結果なし)"));return}let t=c(e);n.appendChild(t)}(e)}).catch(e=>{console.error(e)})}(t.value)}),n.addEventListener("click",e=>{if(!(e.target instanceof HTMLButtonElement&&e.target.parentNode instanceof HTMLLIElement&&e.target.parentNode.dataset.children))return;let t=e.target,r=e.target.parentNode;if(r.lastChild instanceof HTMLUListElement){t.textContent="+",r.removeChild(r.lastChild);return}t.disabled=!0,d(r.dataset.children.split(",")).then(e=>{if(!n.contains(r))return;let i=c(e);t.disabled=!1,t.textContent="-",r.appendChild(i)})})});
//# sourceMappingURL=index.39a3694d.js.map
